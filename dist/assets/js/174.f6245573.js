(window.webpackJsonp=window.webpackJsonp||[]).push([[174],{661:function(s,a,t){"use strict";t.r(a);var r=t(50),e=Object(r.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"模块化开发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模块化开发"}},[s._v("#")]),s._v(" 模块化开发")]),s._v(" "),t("h2",{attrs:{id:"_1-为什么使用模块化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-为什么使用模块化"}},[s._v("#")]),s._v(" 1.为什么使用模块化")]),s._v(" "),t("ul",[t("li",[s._v("解决全局变量命名冲突问题")]),s._v(" "),t("li",[s._v("解决js文件必须按照一定顺序引入的问题")])]),s._v(" "),t("h2",{attrs:{id:"_2-如何使用模块化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-如何使用模块化"}},[s._v("#")]),s._v(" 2.如何使用模块化")]),s._v(" "),t("ul",[t("li",[s._v("使用匿名函数，还需要使用一个模块作为出口，暴露函数里面的变量")]),s._v(" "),t("li",[s._v("在匿名函数中定义一个对象")]),s._v(" "),t("li",[s._v("给对象添加各种需要暴露的属性和方法")]),s._v(" "),t("li",[s._v("最后将这个对象返回，并且在外面使用一个MoudleA接收")])]),s._v(" "),t("h2",{attrs:{id:"_3-常见的模块化规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-常见的模块化规范"}},[s._v("#")]),s._v(" 3.常见的模块化规范")]),s._v(" "),t("p",[s._v("ES6之前，js没有模块化，JavaScript 社区已经尝试并提出了 AMD、CMD、CommonJS 等模块化规范。")]),s._v(" "),t("p",[t("strong",[s._v("ES6")]),s._v("标准发布后，"),t("strong",[s._v("module成为标准")]),s._v("，标准使用是以"),t("strong",[s._v("export指令导出")]),s._v("接口，以"),t("strong",[s._v("import引入")]),s._v("模块。")]),s._v(" "),t("p",[t("strong",[s._v("但是在我们一贯的node模块")]),s._v("中，我们依然采用的是"),t("strong",[s._v("CommonJS规范")]),s._v("，使用"),t("strong",[s._v("module.exports导出")]),s._v("接口，使用"),t("strong",[s._v("require引入")]),s._v("模块，")]),s._v(" "),t("p",[s._v("模块化已经有很多既有的规范和对应的实现方案，常见的模块化规范：")]),s._v(" "),t("ul",[t("li",[s._v("CommonJS）"),t("strong",[s._v("node和webpack使用，适用于服务器端")])]),s._v(" "),t("li",[s._v("AMD "),t("strong",[s._v("适用浏览器端")])]),s._v(" "),t("li",[s._v("CMD"),t("strong",[s._v("适用浏览器端")])])]),s._v(" "),t("p",[s._v("太多的模块化规范给开发者增加了学习的难度与开发的成本。因此，大一统的 "),t("strong",[s._v("ES6 模块化规范诞生")]),s._v("了")]),s._v(" "),t("p",[s._v("ES6的Modules "),t("strong",[s._v("vuecli脚手架中可以使用，ES6语法，js文件中都可以使用")])]),s._v(" "),t("p",[s._v("模块化两个核心："),t("strong",[s._v("导出和导入")])]),s._v(" "),t("h2",{attrs:{id:"_4-commonjs模块化的导出和导入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-commonjs模块化的导出和导入"}},[s._v("#")]),s._v(" 4.CommonJS模块化的导出和导入")]),s._v(" "),t("p",[s._v("node.js 遵循了 CommonJS 的模块化规范。其中：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("导入其它模块使用 require() 方法")])]),s._v(" "),t("li",[t("p",[s._v("模块对外共享成员使用 module.exports 对象")])]),s._v(" "),t("li",[t("p",[s._v("模块化的好处： 大家都遵守同样的模块化规范写代码，降低了沟通的成本，极大方便了各个模块之间的相互调用，利人利己")])])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("//导出\nmodule.exports = { flag,sum }\nexports.fs = fs\n//导入\nlet {flag,sum} = require('./aaa.js')\nconst fs = require('fs')\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"_5-es6模块化实现"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-es6模块化实现"}},[s._v("#")]),s._v(" 5.ES6模块化实现")]),s._v(" "),t("p",[t("strong",[s._v("ES6 模块化规范是浏览器端与服务器端通用的模块化开发规范")]),s._v("。它的出现极大的降低了前端开发者的模块化学 习成本，开发者不需再额外学习 AMD、CMD 或 CommonJS 等模块化规范。")]),s._v(" "),t("p",[s._v("ES6 模块化规范中定义：")]),s._v(" "),t("ul",[t("li",[s._v("每个 js 文件都是一个独立的模块")]),s._v(" "),t("li",[t("strong",[s._v("导入")]),s._v("其它模块成员使用 "),t("strong",[s._v("import 关键字")])]),s._v(" "),t("li",[t("strong",[s._v("导出")]),s._v("模块成员使用 "),t("strong",[s._v("export 关键字")])])]),s._v(" "),t("h2",{attrs:{id:"_6-在-node-js-中体验-es6-模块化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-在-node-js-中体验-es6-模块化"}},[s._v("#")]),s._v(" 6.在 node.js 中体验 ES6 模块化")]),s._v(" "),t("p",[s._v("node.js 中默认仅支持 CommonJS 模块化规范，若想基于 node.js 体验与学习 ES6 的模块化语法，可以按照 如下两个步骤进行配置：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("确保安装了 v14.15.1 或更高版本的 node.js")])]),s._v(" "),t("li",[t("p",[s._v('在 package.json 的根节点中添加 "type": "module" 节点')])])]),s._v(" "),t("h2",{attrs:{id:"_7-es6-模块化的基本语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-es6-模块化的基本语法"}},[s._v("#")]),s._v(" 7.ES6 模块化的基本语法")]),s._v(" "),t("p",[s._v("ES6 的模块化主要包含如下 3 种用法：")]),s._v(" "),t("ol",[t("li",[s._v("默认导出与默认导入")]),s._v(" "),t("li",[s._v("按需导出与按需导入")]),s._v(" "),t("li",[s._v("直接导入并执行模块中的代码")])]),s._v(" "),t("h2",{attrs:{id:"_8-默认导入导出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-默认导入导出"}},[s._v("#")]),s._v(" 8.默认导入导出")]),s._v(" "),t("p",[t("strong",[s._v("默认导出")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" 默认导出的成员\n "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("fun"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("strong",[s._v("默认导入")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" 接收名称 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'模块标识符'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" m1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./01.module.js'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[t("p",[s._v("每个模块中，只允许使用唯一的一次 export default，否则会报错！")])]),s._v(" "),t("li",[t("p",[s._v("默认导入时的接收名称可以任意名称，只要是合法的成员名称即可")])])]),s._v(" "),t("h2",{attrs:{id:"_9-按需导入导出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9-按需导入导出"}},[s._v("#")]),s._v(" 9.按需导入导出")]),s._v(" "),t("p",[t("strong",[s._v("按需导出")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" 按需导出的成员\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" s1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello world'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("strong",[s._v("按需导入")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" s1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'模块标识符'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("s1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./02.module.js'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" 自定义名字 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./02.module.js"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("s1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" 新名字 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./02.module.js"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("ol",[t("li",[s._v("每个模块中可以使用"),t("strong",[s._v("多次")]),s._v("按需导出")]),s._v(" "),t("li",[s._v("按需导入的成员名称必须和按需导出的"),t("strong",[s._v("名称保持一致")])]),s._v(" "),t("li",[s._v("按需导入时，可以使用 "),t("strong",[s._v("as 关键字进行重命名")])]),s._v(" "),t("li",[s._v("按需导入可以和"),t("strong",[s._v("默认导入一起")]),s._v("使用")])]),s._v(" "),t("p",[s._v("如果需要导入的变量很多时，使用")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('import * as 自定义名字 from "./aaa.js"\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"_10-直接导入并执行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10-直接导入并执行"}},[s._v("#")]),s._v(" 10.直接导入并执行")]),s._v(" "),t("p",[s._v("如果只想单纯地执行某个模块中的代码，并不需要得到模块中向外共享的成员。此时，可以直接导入并执行模 块代码")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//直接导入")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./style.css'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"_11-require-import的区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_11-require-import的区别"}},[s._v("#")]),s._v(" 11.require，import的区别")]),s._v(" "),t("p",[s._v("require/exports 的用法只有以下三种简单的写法：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("const fs = require('fs')\nexports.fs = fs\nmodule.exports = fs\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("import/export 的写法就多种多样")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("import fs from 'fs'\nimport {default as fs} from 'fs'\nimport * as fs from 'fs'\nimport {readFile} from 'fs'\nimport {readFile as read} from 'fs'\nimport fs, {readFile} from 'fs'\n\nexport default fs\nexport const fs\nexport function readFile\nexport {readFile, read}\nexport * from 'fs'\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("ol",[t("li",[s._v("CommonJS 还是 ES6 Module 输出都可以看成是一个具备多个属性或者方法的对象；")]),s._v(" "),t("li",[s._v("default 是 ES6 Module 所独有的关键字，export default fs 输出默认的接口对象，import fs from 'fs' 可直接导入这个对象；")]),s._v(" "),t("li",[s._v("ES6 Module 中导入模块的属性或者方法是强绑定的，包括基础类型；而 CommonJS 则是普通的值传递或者引用传递。")])])])}),[],!1,null,null,null);a.default=e.exports}}]);