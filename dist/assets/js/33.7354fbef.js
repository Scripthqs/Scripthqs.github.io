(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{406:function(t,s){t.exports="data:image/png;base64,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"},587:function(t,s,a){"use strict";a.r(s);var n=a(50),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"http模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#http模块"}},[t._v("#")]),t._v(" http模块")]),t._v(" "),n("p",[t._v("http模块是用来创建web服务器。")]),t._v(" "),n("h2",{attrs:{id:"_1-服务器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-服务器"}},[t._v("#")]),t._v(" 1.服务器")]),t._v(" "),n("p",[t._v("给用户提供的服务的机器就是服务器，在服务器上需要安装服务器软件，目前最主流的3个web服务器软件是Apache,Nginx,IIS。")]),t._v(" "),n("p",[t._v("用户从浏览器打开页面最终呈现在屏幕上，经历了哪些事？")]),t._v(" "),n("ul",[n("li",[t._v("首先用户需要联网")]),t._v(" "),n("li",[t._v("用户根据url请求，DNS将url中的域名解析成ip地址")]),t._v(" "),n("li",[t._v("根据地址等请求信息找对应的服务器")]),t._v(" "),n("li",[t._v("后端可能会用到数据库，服务器会从数据库拿到数据，再从服务器通过网络呈现到浏览器上。")])]),t._v(" "),n("h2",{attrs:{id:"_2-开发模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-开发模式"}},[t._v("#")]),t._v(" 2.开发模式")]),t._v(" "),n("p",[t._v("现在一般主要有前后端分离和前后端耦合开发2种模式。")]),t._v(" "),n("ol",[n("li",[t._v("前后端分离：提出需求-设计接口约定数据（接口文档）-前后端并行开发-前后端集成-前端调整页面-集成成功-交付")]),t._v(" "),n("li",[t._v("前后端耦合开发：提出需求-前端开发页面-后端编译成模板-前后端对接（需要相互看彼此的代码）-集成遇到问题-前端返工-后端返工-二次集成-集成成功-交付")])]),t._v(" "),n("p",[t._v("现在主要是使用前后端分离开发，不过要是懂后端语言耦合开发也不错。")]),t._v(" "),n("h2",{attrs:{id:"_3-服务器相关的概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-服务器相关的概念"}},[t._v("#")]),t._v(" 3.服务器相关的概念")]),t._v(" "),n("h3",{attrs:{id:"_3-1ip地址"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1ip地址"}},[t._v("#")]),t._v(" 3.1ip地址")]),t._v(" "),n("p",[n("strong",[t._v("ip地址")]),t._v("：ip地址有v4和v6之分，IP地址就是互联网上每台计算机/电子设备的唯一地址，因此IP地址具有唯一性。在开发期间，自己的电脑既是一台服务器，也是一个客户端，可以在本机浏览器中输入"),n("strong",[t._v("127.0.0.1")]),t._v("进行访问。")]),t._v(" "),n("h3",{attrs:{id:"_3-2域名"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2域名"}},[t._v("#")]),t._v(" 3.2域名")]),t._v(" "),n("p",[n("strong",[t._v("域名")]),t._v("：尽管 IP地址能够唯一地标记网络上的计算机，但IP地址是一长串数字，不直观，而且不便于记忆，于是人们又发明了另一套字符型的地址方案，叫"),n("strong",[t._v("域名地址")]),t._v("。IP地址和域名是一一对应的关系，这份对应关系存放在一种叫做"),n("strong",[t._v("域名服务器")]),t._v("("),n("strong",[t._v("DNS")]),t._v(")的电脑中。在开发测试期间，"),n("strong",[t._v("127.0.0.1 对应的域名是 localhost")]),t._v("。")]),t._v(" "),n("blockquote",[n("p",[t._v("本地如果localhost无法使用，则是因为本机中的hosts文件中没有匹配上ip地址")])]),t._v(" "),n("h3",{attrs:{id:"_3-3网络协议"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3网络协议"}},[t._v("#")]),t._v(" 3.3网络协议")]),t._v(" "),n("p",[n("strong",[t._v("网络协议")]),t._v(" ：网络上的计算机之间交换信息，就像我们说话用某种语言一样，在网络上的各台计算机之间也有一种语言，这就是网络协议，"),n("strong",[t._v("不同的计算机之间必须使用相同的网络协议才能进行通信")]),t._v("。如：TCP、UDP、HTTP、FTP等等。")]),t._v(" "),n("h3",{attrs:{id:"_3-4端口号"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4端口号"}},[t._v("#")]),t._v(" 3.4端口号")]),t._v(" "),n("p",[n("strong",[t._v("端口号")]),t._v("：服务器的端口号就像是现实生活中的门牌号一样。通过门牌号，外卖员就可以准确把外卖送到你的手中。同样的道理，在一台电脑中，可以运行N多个web 服务。每个 web 服务都对应一个唯一的端口号（0-65535，2^16，常见的端口号别占用：20,21,22,25,80,443,3306,3389,11211,27017....）。客户端发送过来的网络请求，通过端口号，可以被准确地交给对应的 web 服务进行处理。0-65535")]),t._v(" "),n("blockquote",[n("p",[t._v("注：服务器上的端口号是不可以重复的，必须是独一无二。"),n("strong",[t._v("http服务默认端口号为80，https的端口号默认是443。")])])]),t._v(" "),n("h2",{attrs:{id:"_4-创建web服务器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-创建web服务器"}},[t._v("#")]),t._v(" 4.创建web服务器")]),t._v(" "),n("p",[t._v("NodeJs是通过官方提供的http模块来创建 web服务器的模块。通过几行简单的代码，就能轻松的手写一个web服务，从而对外提供 web 服务。")]),t._v(" "),n("ol",[n("li",[t._v("导入http模块")]),t._v(" "),n("li",[t._v("创建web服务对象实例")]),t._v(" "),n("li",[t._v("绑定监听客户端请求事件request")]),t._v(" "),n("li",[t._v("监听端口，启动服务")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入http模块    ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" http "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建web服务对象实例")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" server "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createServer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 绑定监听客户端请求事件request")]),t._v("\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'request'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" response")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// request: 接受客户端请求对象，它包含了与客户端相关的数据和属性")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//      request.url      客户端请求的uri地址")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//      request.method  客户端请求的方式 get或post")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//      request.headers   客户端请求头信息(对象)")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//      ....")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// response:服务器对客户端的响应对象")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     设置响应头信息 ，用于响应时有中文时乱码解决处理")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     response.setHeader('content-type', 'text/html;charset=utf-8')")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     设置状态码（常见的HTTP状态码有：200，404，301、302、304、403、401、405、500，502）")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     response.statusCode = 200")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     向客户端发送响应数据,并结束本次请求的处理过程")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     response.end('hello world')")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 启动服务")]),t._v("\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'服务已启动'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br")])]),n("p",[n("strong",[t._v("手写一个服务器软件，启动后要求用户访问根“/”输出"),n("code",[t._v("hello world")]),t._v("，用户访问"),n("code",[t._v("/html5")]),t._v("输出"),n("code",[t._v("2004")]),t._v("。")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. 导入http模块")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" http "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. 创建web服务实例")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" server "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createServer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. 监听request请求")]),t._v("\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"request"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 输出hello world")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// res.end("hello world");')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello world"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/html5"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2004"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4. 启动服务")]),t._v("\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 仅是提示作用，可以不写，但是建议写")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"server is running at http://127.0.0.1:8080"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br")])]),n("h2",{attrs:{id:"_5-静态资源服务器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-静态资源服务器"}},[t._v("#")]),t._v(" 5.静态资源服务器")]),t._v(" "),n("p",[t._v("静态资源：常见的有html、css、js、图片、音频、视频等")]),t._v(" "),n("p",[t._v("静态资源服务器：专门保存上述静态资源的服务器，称之为静态资源服务器。")]),t._v(" "),n("p",[t._v("为什么要将静态资源和动态资源分开放，静态资源一般需要高带宽，而后端资源一般不需要较大的资源，主要是为了提升静态资源的访问速度。")]),t._v(" "),n("p",[n("strong",[t._v("手写静态资源服务器实现思路")]),t._v("：")]),t._v(" "),n("p",[t._v("客户端请求的每个资源uri地址，作为在本机服务器指定目录中的文件。通过相关模块进行读取文件中数据进行响应给客户端，从而实现静态服务器。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(406),alt:"静态资源"}})]),t._v(" "),n("p",[n("strong",[t._v("实现步骤:")])]),t._v(" "),n("p",[t._v("需求：使用nodejs的http模块创建静态资源服务器，专门存放静态资源展示2张图片")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建服务器有以下几步：")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  a. 导入")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" http "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"path"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fs "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fs"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  b. 创建web实例")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" server "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createServer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  c. 监听request事件")]),t._v("\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"request"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取当前用户访问的资源路径")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" uri "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 由于“/”没有实体资源，需要将“/”做处理，如果访问“/”则让其对应访问“/index.html”")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uri "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        uri "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/index.html"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认情况下，浏览器在第一次请求网站的时候会访问“/favicon.ico”图标文件，如果没有也会出现404")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果需要解决这个问题，则有3种方式：")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 方式1：去找个ico文件，存放在静态资源的public目录下，命名为“favicon.ico”")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 方式2：在处理的时候忽略“/favicon.ico”文件的处理，也就是下面的加了判断的写法")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 方式3：不管，不用处理，其不影响页面的显示")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uri "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/favicon.ico'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 读取文件（fs模块），将内容返回给用户（res.end）")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" filename "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"public"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uri"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 判断文件是否存在")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("existsSync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("filename"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("filename"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ok")]),t._v("\n                    res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不ok")]),t._v("\n                    res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/html;charset=utf-8"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusCode "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求资源出现错误。。。"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/html;charset=utf-8"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusCode "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("404")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"你要找的资源失踪了。。。"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  d. 监听端口，启动服务")]),t._v("\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"server is running at http://127.0.0.1:8080"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br"),n("span",{staticClass:"line-number"},[t._v("41")]),n("br"),n("span",{staticClass:"line-number"},[t._v("42")]),n("br"),n("span",{staticClass:"line-number"},[t._v("43")]),n("br"),n("span",{staticClass:"line-number"},[t._v("44")]),n("br"),n("span",{staticClass:"line-number"},[t._v("45")]),n("br"),n("span",{staticClass:"line-number"},[t._v("46")]),n("br"),n("span",{staticClass:"line-number"},[t._v("47")]),n("br")])]),n("h2",{attrs:{id:"_6-get数据获取"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-get数据获取"}},[t._v("#")]),t._v(" 6.get数据获取")]),t._v(" "),n("p",[t._v("get数据通过地址栏使用query方式进行传递的数据 例")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("zhangsan\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("查询字符串的规则：请求参数使用 URL地址和“问号传参“ 的方式进行传递----用问号把url和请求参数分开。")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" http "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" url "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建实例&监听request事件&监听端口")]),t._v("\nhttp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createServer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  之前第3步中的回调函数")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取地址栏中 query数据")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" query "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("query"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br")])]),n("h2",{attrs:{id:"_7-post数据获取"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-post数据获取"}},[t._v("#")]),t._v(" 7.post数据获取")]),t._v(" "),n("p",[t._v("当请求方式不是get（大部分情况是post或put）时，那么请求的数据不是在url上，而是在请求体里。chrome浏览器针对不同的content-type有做了区分，分别是formData和request payload。")]),t._v(" "),n("p",[t._v("表单数据多数为post进行提交到服务器端。需要监听req对象的data事件来获取客户端发送到服务器的数据。如果数据量比较大，无法一次性发送完毕，则客户端会把数据切割后分批次发送给服务器。所以data事件可能会被触发多次，每次触发data事件时，收到的数据只是全部数据的一部分，因此需要做数据的拼接才能得到完整的数据：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" http "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" queryString "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'querystring'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nhttp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createServer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" arr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 数据接受中")]),t._v("\n    req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("buffer")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        arr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 数据传输结束了")]),t._v("\n    req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'end'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 拼接接受到的所有数据")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" buffer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" post "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryString"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);