(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{410:function(s,t,a){s.exports=a.p+"assets/img/image-20201204150917555.f1e4a9c5.png"},411:function(s,t,a){s.exports=a.p+"assets/img/image-20201204151301849.ccbd7c05.png"},412:function(s,t,a){s.exports=a.p+"assets/img/image-20201210143938993.227d51a0.png"},413:function(s,t,a){s.exports=a.p+"assets/img/image-20201204153505733.ef73a7ee.png"},640:function(s,t,a){"use strict";a.r(t);var n=a(21),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"发布到-npm-仓库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#发布到-npm-仓库"}},[s._v("#")]),s._v(" 发布到 npm 仓库")]),s._v(" "),n("h2",{attrs:{id:"完善-package-json"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#完善-package-json"}},[s._v("#")]),s._v(" 完善 package.json")]),s._v(" "),n("ul",[n("li",[s._v("注意:\n"),n("ul",[n("li",[s._v("name: 必须是唯一的名称(在 npm 在线中央仓库中没有同名的)")]),s._v(" "),n("li",[s._v("main: 必须指定为打包生成的 js 文件")]),s._v(" "),n("li",[s._v("keywords: 指定一些方便别的程序员搜索到当前库的关键字")])])])]),s._v(" "),n("div",{staticClass:"language-json line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"utils"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"author"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scripthqs"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"description"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"前端-自定义工具函数库"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"keywords"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"utils"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"array"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"object"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"function"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"string"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"axios"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"event-bus"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pub-sub"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"promise"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/hqs-utils.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"license"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MIT"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack --watch"')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"devDependencies"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"webpack"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^5.9.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"webpack-cli"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^4.2.0"')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h2",{attrs:{id:"npm-配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm-配置"}},[s._v("#")]),s._v(" npm 配置")]),s._v(" "),n("ul",[n("li",[s._v("npm 配置的中央仓库不能是淘宝镜像")]),s._v(" "),n("li",[s._v("发布前必须执行: npm config set registry "),n("a",{attrs:{href:"https://registry.npmjs.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://registry.npmjs.org/"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("不用发布时: npm config set registry "),n("a",{attrs:{href:"http://registry.npm.taobao.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://registry.npm.taobao.org/"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("查看配置: npm config list")])]),s._v(" "),n("h2",{attrs:{id:"注册-npm-中央仓库账号"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#注册-npm-中央仓库账号"}},[s._v("#")]),s._v(" 注册 npm 中央仓库账号")]),s._v(" "),n("ul",[n("li",[s._v("注册地址: "),n("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.npmjs.com/"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("关键信息: 用户名/密码/邮箱("),n("font",{attrs:{color:"red"}},[s._v("需要验证")]),s._v(")")],1)]),s._v(" "),n("p",[n("img",{attrs:{src:a(410),alt:"image-20201204150917555"}})]),s._v(" "),n("h2",{attrs:{id:"添加用户"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#添加用户"}},[s._v("#")]),s._v(" 添加用户")]),s._v(" "),n("ul",[n("li",[s._v("执行: npm addUser")]),s._v(" "),n("li",[s._v("登陆 npm 仓库")]),s._v(" "),n("li",[s._v("依次指定用户名/密码/邮箱")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(411),alt:"image-20201204151301849"}})]),s._v(" "),n("h2",{attrs:{id:"发布仓库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#发布仓库"}},[s._v("#")]),s._v(" 发布仓库")]),s._v(" "),n("ul",[n("li",[s._v("执行: npm publish")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(412),alt:"image-20201210143938993"}})]),s._v(" "),n("ul",[n("li",[s._v("发布失败, 原因是库的名称重复了, 修改 name 为一个唯一值, 再发布")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(413),alt:"image-20201204153505733"}})]),s._v(" "),n("h2",{attrs:{id:"更新代码后再发布"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#更新代码后再发布"}},[s._v("#")]),s._v(" 更新代码后再发布")]),s._v(" "),n("ul",[n("li",[s._v("修改项目库的版本号: package.json 中的 version 从 1.0.0 改为 1.0.1, 注意一定要变大")]),s._v(" "),n("li",[s._v("修改代码后重新打包: npm run build")]),s._v(" "),n("li",[s._v("执行发布: npm publish")])]),s._v(" "),n("h2",{attrs:{id:"强制删除已发布的库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#强制删除已发布的库"}},[s._v("#")]),s._v(" 强制删除已发布的库")]),s._v(" "),n("ul",[n("li",[s._v("执行: npm unpublish --force")]),s._v(" "),n("li",[s._v("注意: 必须在 72 小时内, 否则不能再删除")])])])}),[],!1,null,null,null);t.default=r.exports}}]);