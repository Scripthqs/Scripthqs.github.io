(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{529:function(s,t,a){"use strict";a.r(t);var n=a(50),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"axios基础"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#axios基础"}},[s._v("#")]),s._v(" axios基础")]),s._v(" "),a("h2",{attrs:{id:"_1、axios简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、axios简介"}},[s._v("#")]),s._v(" 1、axios简介")]),s._v(" "),a("ol",[a("li",[s._v("前端最流行的 ajax请求库")]),s._v(" "),a("li",[s._v("react/vue 官方都推荐使用 axios 发ajax 请求")]),s._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/axios/axios",target:"_blank",rel:"noopener noreferrer"}},[s._v("文档: https://github.com/axios/axios"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("调用axios方法，"),a("strong",[s._v("返回的是一个promise对象")])]),s._v(" "),a("h2",{attrs:{id:"_2、axios-特点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、axios-特点"}},[s._v("#")]),s._v(" 2、axios 特点")]),s._v(" "),a("ol",[a("li",[s._v("基于 xhr + promise 的异步 ajax请求库")]),s._v(" "),a("li",[s._v("浏览器端/node 端都可以使用")]),s._v(" "),a("li",[s._v("支持请求／响应拦截器")]),s._v(" "),a("li",[s._v("支持请求取消")]),s._v(" "),a("li",[s._v("请求/响应数据转换")]),s._v(" "),a("li",[s._v("批量发送多个请求")])]),s._v(" "),a("h2",{attrs:{id:"_3、axios-常用语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、axios-常用语法"}},[s._v("#")]),s._v(" 3、axios 常用语法")]),s._v(" "),a("p",[a("code",[s._v("axios(config)")]),s._v(": 通用/最本质的发任意类型请求的方式\n"),a("code",[s._v("axios(url[, config])")]),s._v(": 可以只指定url 发get 请求\n"),a("code",[s._v("axios.request(config)")]),s._v(": 等同于axios(config)\n"),a("code",[s._v("axios.get(url[, config])")]),s._v(": 发get 请求\n"),a("code",[s._v("axios.delete(url[, config])")]),s._v(": 发delete 请求\n"),a("code",[s._v("axios.post(url[, data, config])")]),s._v(": 发post 请求\n"),a("code",[s._v("axios.put(url[, data, config])")]),s._v(": 发put 请求")]),s._v(" "),a("p",[a("code",[s._v("axios.defaults.xxx")]),s._v(": 请求的默认全局配置（method\\baseURL\\params\\timeout…）\n"),a("code",[s._v("axios.interceptors.request.use()")]),s._v(": 添加请求拦截器\n"),a("code",[s._v("axios.interceptors.response.use()")]),s._v(": 添加响应拦截器")]),s._v(" "),a("p",[a("code",[s._v("axios.create([config])")]),s._v(": 创建一个新的axios(它没有下面的功能)")]),s._v(" "),a("p",[a("code",[s._v("axios.Cancel()")]),s._v(": 用于创建取消请求的错误对象\n"),a("code",[s._v("axios.CancelToken()")]),s._v(": 用于创建取消请求的 token 对象\n"),a("code",[s._v("axios.isCancel()")]),s._v(": 是否是一个取消请求的错误\n"),a("code",[s._v("axios.all(promises)")]),s._v(": 用于批量执行多个异步请求\n"),a("code",[s._v("axios.spread()")]),s._v(": 用来指定接收所有成功数据的回调函数的方法")]),s._v(" "),a("img",{staticStyle:{zoom:"67%"},attrs:{src:"D:\\user\\Desktop\\scripthqs\\note\\material\\ajax\\axios图解.png",alt:"axios图解"}}),s._v(" "),a("h2",{attrs:{id:"_4、axios-的基本使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、axios-的基本使用"}},[s._v("#")]),s._v(" 4、axios 的基本使用")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("发起 GET 请求："),a("strong",[s._v("通过params传参")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("axios")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 请求方式")]),s._v("\n  method"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 请求的地址")]),s._v("\n  url"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://www.liulongbin.top:3006/api/getbooks'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// URL 中的查询参数")]),s._v("\n  params"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("result")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("发起 POST 请求："),a("strong",[s._v("通过data传参")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'#btnPost'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果调用某个方法的返回值是 Promise 实例，则前面可以添加 await！")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// await 只能用在被 async “修饰”的方法中")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" data"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" res "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("axios")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    method"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'POST'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    url"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://www.liulongbin.top:3006/api/post'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    data"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'zs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      age"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("调用axios之后，使用async/await进行简化")])]),s._v(" "),a("li",[a("p",[s._v("使用结构赋值，从axios封装的大对象中，把data属性解构出来")])]),s._v(" "),a("li",[a("p",[s._v("把解构出来的data属性，使用冒号"),a("code",[s._v(":")]),s._v("进行重命名{data: res}")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);