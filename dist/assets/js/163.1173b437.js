(window.webpackJsonp=window.webpackJsonp||[]).push([[163],{636:function(s,a,e){"use strict";e.r(a);var n=e(21),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"webpack-基本使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack-基本使用"}},[s._v("#")]),s._v(" webpack 基本使用")]),s._v(" "),e("h2",{attrs:{id:"_1-准备工作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-准备工作"}},[s._v("#")]),s._v(" 1.准备工作")]),s._v(" "),e("p",[s._v("创建文件和文件夹：")]),s._v(" "),e("ul",[e("li",[s._v("dist 文件夹：用于存放之后打包的文件")]),s._v(" "),e("li",[s._v("src 文件夹：用于存放写的源文件\n"),e("ul",[e("li",[s._v("index.js：项目的入口文件")]),s._v(" "),e("li",[s._v("Moudle.js；定义模块工具函数，可以在其他地方引用")]),s._v(" "),e("li",[s._v("index.html：浏览器打开展示的首页 html")]),s._v(" "),e("li",[s._v("package.json：通过 npm init 生成的，npm 包管理文件，"),e("strong",[s._v("取名时千万不能叫 webpack")])])])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将`index.js`打包成`main.js`")]),s._v("\nwebpack ./src/index.js ./dist/main.js\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("blockquote",[e("p",[s._v("打包后 dist 文件夹下会生成一个 main.js 文件，只需要将这个 js 文件在 index.html 引入即可")])]),s._v(" "),e("h2",{attrs:{id:"_2-安装-webpack"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装-webpack"}},[s._v("#")]),s._v(" 2.安装 webpack")]),s._v(" "),e("p",[s._v("1.初始化 package.json，运行命令自动生成")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init -y //一切默认，不用输入\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("2.下载并安装 webpack")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --save-dev webpack//最新版本\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --save-dev webpack@"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("version"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("//指定版本\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --save-dev webpack-cli\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ul",[e("li",[s._v("-g：全局安装，"),e("strong",[s._v("不推荐全局安装 webpack")])]),s._v(" "),e("li",[s._v("-D：--save-dev 的简写，"),e("strong",[s._v("开发和测试，本地环境")])]),s._v(" "),e("li",[s._v("-S：--save 的简写， "),e("strong",[s._v("生产环境，线上环境")])])]),s._v(" "),e("h2",{attrs:{id:"_3-配置-webpack"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置-webpack"}},[s._v("#")]),s._v(" 3.配置 webpack")]),s._v(" "),e("p",[s._v("1.新建文件"),e("code",[s._v("webpack.config.js")]),s._v("文件")]),s._v(" "),e("p",[s._v("2.在"),e("code",[s._v("webpack.config.js")]),s._v("中配置：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("module.exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  mode: "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"development"')]),s._v(", //开发环境\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("3.运行指令: webpack，相当于")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("webpack ./src/index.js ./dist/main.js -mode"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("development\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("注意：本地安装的 webpack 不会自动添加到环境变量中，如果没有全局安装过 webpack，直接使用 webpack 命令就会报错。")])]),s._v(" "),e("p",[s._v("实际开发中，一般也不会直接使用 webpack 打包 js 文件，所以不推荐按全局安装，而是使用"),e("code",[s._v("npm run dev/bulid")])]),s._v(" "),e("p",[s._v("4.在"),e("strong",[s._v("package.json")]),s._v("文件中的 scripts 节点下，配置")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scripts"')]),s._v(":"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dev"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack"')]),s._v("//scripts下的节点，使用npm run执行\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("5.执行脚本，启动 webpack 进行项目的打包构建")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run dev //mode"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("development，速度快，体积大\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build //mode"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("production，速度慢，体积小\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("开发中，使用 development，因为，追求打包的速度，而不是体积。")]),s._v(" "),e("p",[s._v("此时，会优先在本地中找 webpack，实际开发中，一般都会使用本地的 webpack")]),s._v(" "),e("h2",{attrs:{id:"_4-报错处理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-报错处理"}},[s._v("#")]),s._v(" 4.报错处理")]),s._v(" "),e("p",[e("strong",[s._v("情况 1：")])]),s._v(" "),e("p",[s._v("在通过 vs code 运行 webpack 进行打包时，报错 webpack : 无法加载文件 D:\\nodejs\\node_global\\webpack.ps1，因为在此系统上禁止运行脚本。解决方案：")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("以管理员身份运行 vscode")])]),s._v(" "),e("li",[e("p",[s._v("执行：get-ExecutionPolicy，显示 Restricted，表示状态是禁止的")])]),s._v(" "),e("li",[e("p",[s._v("执行：set-ExecutionPolicy RemoteSigned")])]),s._v(" "),e("li",[e("p",[s._v("这时再执行 get-ExecutionPolicy，就显示 RemoteSigned")])]),s._v(" "),e("li",[e("p",[s._v("全局安装"),e("code",[s._v("npm install webpack@<version> -g")])])])]),s._v(" "),e("p",[e("strong",[s._v("情况 2：")])]),s._v(" "),e("p",[s._v("webpack 可能有些默认配置，违背有可能报错。")]),s._v(" "),e("p",[s._v("在 webpack 4.x 和 5.x 的版本中，有如下的默认约定：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("① 默认的打包入口文件为 src -"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" index.js\n\n② 默认的输出文件路径为 dist -"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" main.js\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("注意："),e("strong",[s._v("可以在 webpack.config.js 中修改打包的默认约定")]),s._v("，如果没有按照规定取名，打包也会出错")])])}),[],!1,null,null,null);a.default=t.exports}}]);