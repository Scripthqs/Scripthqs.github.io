(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{505:function(t,s,a){"use strict";a.r(s);var e=a(50),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),a("h2",{attrs:{id:"_1-生命周期简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-生命周期简介"}},[t._v("#")]),t._v(" 1 生命周期简介")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("生命周期的概念：一个对象从创建、运行、销毁的整个过程被成为生命周期。")])]),t._v(" "),a("li",[a("p",[t._v("生命周期函数：在生命周期中每个阶段会伴随着每一个函数的触发，这些函数被称为生命周期函数")])])]),t._v(" "),a("h2",{attrs:{id:"_2-应用生命周期函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-应用生命周期函数"}},[t._v("#")]),t._v(" 2 应用生命周期函数")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("函数名")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("onLaunch")]),t._v(" "),a("td",[t._v("当"),a("code",[t._v("uni-app")]),t._v(" 初始化完成时触发（全局只触发一次）")])]),t._v(" "),a("tr",[a("td",[t._v("onShow")]),t._v(" "),a("td",[t._v("当 "),a("code",[t._v("uni-app")]),t._v(" 启动，或从后台进入前台显示")])]),t._v(" "),a("tr",[a("td",[t._v("onHide")]),t._v(" "),a("td",[t._v("当 "),a("code",[t._v("uni-app")]),t._v(" 从前台进入后台")])]),t._v(" "),a("tr",[a("td",[t._v("onError")]),t._v(" "),a("td",[t._v("当 "),a("code",[t._v("uni-app")]),t._v(" 报错时触发")])])])]),t._v(" "),a("h2",{attrs:{id:"_3-页面生命周期函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-页面生命周期函数"}},[t._v("#")]),t._v(" 3 页面生命周期函数")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("函数名")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("onLoad")]),t._v(" "),a("td",[t._v("监听页面加载，其参数为上个页面传递的数据，参数类型为Object（用于页面传参），参考"),a("a",{attrs:{href:"https://uniapp.dcloud.io/api/router?id=navigateto",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",[t._v("onShow")]),t._v(" "),a("td",[t._v("监听页面显示。页面每次出现在屏幕上都触发，包括从下级页面点返回露出当前页面")])]),t._v(" "),a("tr",[a("td",[t._v("onReady")]),t._v(" "),a("td",[t._v("监听页面初次渲染完成。")])]),t._v(" "),a("tr",[a("td",[t._v("onHide")]),t._v(" "),a("td",[t._v("监听页面隐藏")])]),t._v(" "),a("tr",[a("td",[t._v("onUnload")]),t._v(" "),a("td",[t._v("监听页面卸载")])])])]),t._v(" "),a("ul",[a("li",[t._v("tabBar 中的页面自带缓存 keep-alive，再次切换只会触发 onShow，不会触发  onLoad。")])]),t._v(" "),a("h2",{attrs:{id:"_4-下拉刷新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-下拉刷新"}},[t._v("#")]),t._v(" 4 下拉刷新")]),t._v(" "),a("p",[t._v("在 uni-app 中有两种方式开启下拉刷新：监听 "),a("code",[t._v("onPullDownRefresh")]),t._v(" 函数和 调用 "),a("code",[t._v("uni.startPullDownRefresh()")]),t._v(" 方法")]),t._v(" "),a("h3",{attrs:{id:"enablepulldownrefresh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enablepulldownrefresh"}},[t._v("#")]),t._v(" enablePullDownRefresh")]),t._v(" "),a("p",[t._v("首先需要开启下拉刷新功能，需要在 "),a("code",[t._v("pages.json")]),t._v(" 里，找到的当前页面的 pages 节点，并在 "),a("code",[t._v("style")]),t._v(" 选项中开启 "),a("code",[t._v("enablePullDownRefresh")])]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pages/contact/contact"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"style"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"enablePullDownRefresh"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h3",{attrs:{id:"onpulldownrefresh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onpulldownrefresh"}},[t._v("#")]),t._v(" onPullDownRefresh(){}")]),t._v(" "),a("p",[t._v("通过 "),a("code",[t._v("onPullDownRefresh")]),t._v(" 处理函数（和onLoad等生命周期函数同级），监听该页面用户下拉刷新事件。当处理完数据刷新后，"),a("code",[t._v("uni.stopPullDownRefresh")]),t._v(" 可以停止当前页面的下拉刷新。")]),t._v(" "),a("div",{staticClass:"language-vue line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[t._v("  onPullDownRefresh(){\n   console.log('触发下拉刷新了')\n   this.list.push('vue')\n   uni.stopPullDownRefresh()\n  }\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h3",{attrs:{id:"uni-startpulldownrefresh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uni-startpulldownrefresh"}},[t._v("#")]),t._v(" uni.startPullDownRefresh()")]),t._v(" "),a("p",[t._v("通过调用 "),a("code",[t._v("uni.startPullDownRefresh()")]),t._v(" 方法"),a("strong",[t._v("开始")]),t._v("当前页面下拉刷新")]),t._v(" "),a("div",{staticClass:"language-vue line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[t._v("  methods:{\n   startPull () {\n      uni.startPullDownRefresh()\n    }\n  },\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h3",{attrs:{id:"uni-stoppulldownrefresh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uni-stoppulldownrefresh"}},[t._v("#")]),t._v(" uni.stopPullDownRefresh()")]),t._v(" "),a("p",[t._v("通过调用 "),a("code",[t._v("uni.stopPullDownRefresh()")]),t._v("方法"),a("strong",[t._v("停止")]),t._v("当前页面下拉刷新。")]),t._v(" "),a("h2",{attrs:{id:"_5-上拉加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-上拉加载"}},[t._v("#")]),t._v(" 5 上拉加载")]),t._v(" "),a("h3",{attrs:{id:"onreachbottomdistance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onreachbottomdistance"}},[t._v("#")]),t._v(" onReachBottomDistance")]),t._v(" "),a("p",[t._v("首先需要开启上拉加载功能，通过在 pages.json 文件中找到当前页面的 pages 节点下 style 中配置 "),a("code",[t._v("onReachBottomDistance")]),t._v(" 可以设置距离底部开启加载的距离，默认为 50px。")]),t._v(" "),a("h3",{attrs:{id:"onreachbottom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onreachbottom"}},[t._v("#")]),t._v(" onReachBottom")]),t._v(" "),a("p",[t._v("通过 "),a("code",[t._v("onReachBottom")]),t._v(" 监听到触底的行为")]),t._v(" "),a("div",{staticClass:"language-vue line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[t._v("  onReachBottom(){\n   console.log('触发上拉加载了')\n   this.list.push('node')\n  }\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);